<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>GSoC: Midterm Status-Quo &#8211; Ankesh Anand's Homepage</title>
<meta name="description" content="A Midterm Report of my Google Summer of Code Project with BRL-CAD">
<meta name="keywords" content="gsoc, brlcad">
<!-- Twitter Cards -->
	
		<meta name="twitter:card" content="summary">
		<meta name="twitter:image" content=
			
				
						"http://www.ankeshanand.com/images/"
				
			
		>
	
	<meta name="twitter:title" content="GSoC: Midterm Status-Quo">
	<meta name="twitter:description" content="A Midterm Report of my Google Summer of Code Project with BRL-CAD">
	<meta name="twitter:creator" content="@ankesh_anand">


<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="GSoC: Midterm Status-Quo">
<meta property="og:description" content="A Midterm Report of my Google Summer of Code Project with BRL-CAD">
<meta property="og:url" content="http://www.ankeshanand.com/posts/gsoc-midterm-status-quo/">
<meta property="og:site_name" content="Ankesh Anand's Homepage">





<link rel="canonical" href="http://www.ankeshanand.com/posts/gsoc-midterm-status-quo/">
<link href="http://www.ankeshanand.com/feed.xml" type="application/atom+xml" rel="alternate" title="Ankesh Anand's Homepage Feed">
<link rel="author" href="http://plus.google.com/+AnkeshAnand?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://www.ankeshanand.com/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://www.ankeshanand.com/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://www.ankeshanand.com/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://www.ankeshanand.com/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://www.ankeshanand.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://www.ankeshanand.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://www.ankeshanand.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.ankeshanand.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.ankeshanand.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.ankeshanand.com/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://www.ankeshanand.com">HOME</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				<li><a href="http://www.ankeshanand.com/posts/" >Posts</a></li>
		        
				<li><a href="http://www.ankeshanand.com/about/" >About</a></li>
		        
				<li><a href="http://www.ankeshanand.com/work/" >Work</a></li>
		        
				<li><a href="http://www.ankeshanand.comfeed.xml" >Feed</a></li>
		        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
	<img src="http://www.ankeshanand.com/images/dp.jpg" class="bio-photo" alt="Ankesh Anand bio photo"></a>

<h3>Ankesh Anand</h3>
<p></p>
<a href="mailto:ankeshanand1994@gmail.com" class="author-social" target="_blank"><i class="icon-gmail"></i> ankeshanand1994@gmail.com</a>
<a href="http://twitter.com/ankesh_anand" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/ankeshanand1112" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>
<a href="http://plus.google.com/+AnkeshAnand" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="http://linkedin.com/in//pub/ankesh-anand/42/614/616" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>


<a href="http://github.com/ankeshanand" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>






  </div>
  <article>
    <div class="headline-wrap">
      
        <h1><a href="http://www.ankeshanand.com/posts/gsoc-midterm-status-quo/" rel="bookmark" title="GSoC: Midterm Status-Quo">GSoC: Midterm Status-Quo</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <h2 id="overview">Overview</h2>

<p>Ahoy, this happens to be my first blog post on the new blog. I am working with <a href="http://brlcad.org/">BRL-CAD</a> this summer as part of
<a href="http://www.google-melange.com/gsoc/homepage/google/gsoc2014">Google Summer of Code</a>
to develop a web service that provides analysis of a system’s performance based upon metrics from BRL-CAD’s Benchmark Suite.
The end-goal is to deploy a database and visualization framework that provides multiple mechanisms to add new benchmark
logs into the database, displays performance results cum comparisons and produces various forms of visualizations for the aggregate data.
The how’s and why’s are elaborated in the project proposal <a href="http://brlcad.org/wiki/User:Ankeshanand/GSoC14/proposal">here</a>.</p>

<p>Quick summary of the progress so far:</p>

<ul>
  <li><strong>File Uploads:</strong> A web interface to upload the Benchmark logs, files are transferred to an archive folder. File validations and drag n drop are supported.</li>
  <li><strong>Visualizations on Aggregate Data:</strong> Flot has been used to plot the aggregate data from the database. An initial roster of the plots that
comparing serveral parameters has been implemented.</li>
  <li><strong>Processing Uploaded Files:</strong> I have leveraged the script from the previous GSoC project, which needs to run as a cron job on the server.</li>
  <li><strong>Performance Results and Comparison:</strong> Lately, I have been working on serving immediate performance results on log submission,
the UI mockups are ready and the next phase of the project would be to complete this module.</li>
</ul>

<h2 id="the-technical-stuff">The Technical Stuff</h2>

<h3 id="architecturecode-structure">Architecture/Code Structure</h3>
<p>The repository for the project resides <a href="https://github.com/BRL-CAD/benchmark">here</a> on Github. It’s built primarily with Django and leverages Python scripts from the previous project for parsing
and several other utilities.</p>

<div class="highlight"><pre><code class="text">benchmark/
├── doc/                         # Includes documentation from the earlier project
├── fileupload/                  # Django app to handle file uploads
|    ├── static/                    # Images, CSS and Javascript files for the app. A typical assets dir.
|    ├── templates/                 # Contains a Django Template for the front-end page of the app
|    ├── admin.py                   # Registers the app with Django Admin
|    ├── models.py                  # A model is basically an uploaded file here, includes save and delete functions
|    ├── response.py                # Dumps the HTTP response into JSON
|    ├── serialize.py               # Serializes a file instance into a dictionary object.
|    ├── tests.py                   # Unit tests for the app, just contains a stub test at the moment.
|    ├── urls.py                    # URL Patterns for the app
|    └── views.py                   # Responsible for putting everything together and then displaying the output via a Django template.
├── libs/                        # Database handlers for the parser, Parser scripts and IMAP extractor
├── plots/                       # Django app for visualizations of aggregate data
|    ├── static/                    # Stylesheets and JS files
|    ├── templates/                 # Index and Chart front-ends
|    |   ├── flot-chart.html            # Renders the chart using Flot.
|    |   └── index.html                 # Index page of the plots module.
|    ├── admin.py                   # Registers the app with Django Admin
|    ├── data.py                    # Data extractor methods
|    ├── models.py                  # Models that mimic the database schema
|    ├── tests.py                   # Unit tests for the project, currently a stub
|    ├── urls.py                    # URL patterns for the app
|    └── views.py                   # Pass relevant information to templates for displaying the charts and the index page.
├── results/                     # Django app for showcasing and comparing performance results
├── scripts/                     # Utility scripts
|    ├── parse.py                   # A wrapper around the parser library in libs/
|    └── process_from_queue.py      # A scripts to process uploaded files from the queue folder.
├── sql/                         # Legacy MySQL script for implementing the database schema
├── config                       # Project configuration settings
├── manage.py                    # The default manage.py script from Django
├── requirements.txt             # Dependencies
├── settings.py                  # Django Project settings
└── urls.py                      # URL Patterns for the project.</code></pre></div>

<h3 id="file-uploads">File Uploads</h3>

<p>All the files are uploaded to a queue folder from where they are further processed. A web interface to support file uploads
has been implemented now, and this would be extended to an HTTP API that hooks with the benchmark script for automatic uploads.
The Django app supports file validations and has Drag n Drop support. There are admin controls to view a list of files as well.</p>
<figure>
    <a href="/images/upload-shot.png"><img src="/images/upload-shot.png" /></a>
    <figcaption>The upload interface. Click for an enlarged version.</figcaption>
</figure>

<h3 id="visualization-on-aggregate-data">Visualization on Aggregate Data</h3>

<p>The plots app is responsible for aggregating data from the database and then displaying the visualizations. Visualizations
have been built using <a href="http://www.flotcharts.org/">Flot</a>, this is a deviation from the original plan and this
<a href="https://github.com/BRL-CAD/benchmark/wiki/Selection-of-an-appropriate-Javascript-Charting-Library">document</a> describes why we chose to go with Flot.</p>

<p>A data-extractor method has been implemented for each of the plots. The data-extractor methods use Django ORM methods to interact and
fetch the data from the database. The Django template sends a AJAX request for the data, and the views call the appropriate data-extractor
methods based on the chart name.  The data-extractor methods then build the appropriate representation of the data in the form of a dictionary.
This dictionary is then dumped into a JSON object and sent to the data URL.The data is used to assign the options in Flot, which renders the chart
finally using these options.</p>
<figure>
    <a href="/images/plots-shot.png"><img src="/images/plots-shot.png" /></a>
    <figcaption>The plots interface. Click for an enlarged version.</figcaption>
</figure>

<h3 id="numbers">Numbers</h3>
<p>Git commands show a total of 46820 insertions and 1562 deletions but a bulk of them are new CSS and JS files required for the
project. I tried to get a more reasonable figure from some bash one-liners.</p>

<ul>
  <li><strong>Total Commits:</strong> 89</li>
  <li><strong>Files Changed:</strong> 106 (Includes files deleted from the previous project and new static CSS, JS files)</li>
  <li><strong>Lines of code added/refactored:</strong> 1800 approx. (includes only the .py and .html files)</li>
</ul>

<h3 id="next-steps">Next Steps</h3>

<ul>
  <li><strong>Performance Results and Comparisons:</strong> The idea is to show the results of a submitted log immidiately and allow comparisons
against the database against several metrics. The result of each submitted log would be displayed on a unique URL which can be
added to a user’s account. This should be carried out for logs submitted via all the mediums.</li>
  <li><strong>Extracting E-Mail logs</strong></li>
  <li><strong>Testing and Deployment</strong></li>
  <li><strong>Project Documentation</strong></li>
</ul>


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
	<img src="http://www.ankeshanand.com/images/dp.jpg" class="bio-photo" alt="Ankesh Anand bio photo"></a>

<h3>Ankesh Anand</h3>
<p></p>
<a href="mailto:ankeshanand1994@gmail.com" class="author-social" target="_blank"><i class="icon-gmail"></i> ankeshanand1994@gmail.com</a>
<a href="http://twitter.com/ankesh_anand" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://facebook.com/ankeshanand1112" class="author-social" target="_blank"><i class="icon-facebook"></i> Facebook</a>
<a href="http://plus.google.com/+AnkeshAnand" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="http://linkedin.com/in//pub/ankesh-anand/42/614/616" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>


<a href="http://github.com/ankeshanand" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>






        </div>
        <p class="byline"><strong>GSoC: Midterm Status-Quo</strong> was published on <time datetime="2014-06-26T00:00:00-04:00">June 26, 2014</time> and last modified on <time datetime="2014-06-25">June 25, 2014</time> by <a href="http://www.ankeshanand.com/about" title="About Ankesh Anand">Ankesh Anand</a>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://www.ankeshanand.com/posts/">View all posts</a>)</small></h4>
    <ul>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2015 Ankesh Anand. Powered by <a href="http://jekyllrb.com">Jekyll</a> ,curated using <a href="http://mademistakes.com/minimal-mistakes/">Minimal Mistakes</a>, served by <a href="http://pages.github.com">Github Pages</a></span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://www.ankeshanand.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://www.ankeshanand.com/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-52320085-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ankeshblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>